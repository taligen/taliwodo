The beginnings of a web app that can render the task lists generated by taligen.

**NOTE: SO FAR THIS DOESN'T ACTUALLY WORK YET.**

# To build on Arch Linux

1. On your Arch Linux development machine, clone this repository:
```
git clone https://github.com/taligen/taliworkdown.git
cd taliworkdown
```

2. Build the package:
```
makepkg
```

# To run on UBOS

UBOS: An Arch Linux-derived Linux distro that makes it particularly easy to
install and maintain web applications, see http://ubos.net/

1. Setup a UBOS deployment device using any of the instructions here:
   http://ubos.net/docs/users/installation.html
   If you develop on Arch, the easiest is to run UBOS in a Linux container
   on the same machine.

2. Allow password-less, public-key-based SSH access from your development
   machine to the UBOS deployment device, e.g. by adding your SSH key on the
   development as a valid key to the UBOS deployment device's shepherd
   account. This may require, on the development machine:
```
ssh-keygen
cat ~/.ssh/id_rsa.pub
```
   Then, on the UBOS deployment device:
```
ubos-admin setup-shepherd -a '<KEY>'
```
   where `<KEY>` is replaced with the (long) line that was printed out as
   result of the previous command on the development machine.

3. Deploy the `taliworkdown` package to the UBOS deployment device:
```
ubos-push -h <DEPLOYMENTHOST> taliworkdown-*.pkg*
```
   where `<DEPLOYMENTHOST>` is the hostname or IP address of your UBOS
   deployment device.

4. Setup a site that runs `taliworkdown`. Let's assume its hostname (you need to
   setup DNS for that) will be called `taligen.example.com`. Then, on the
   UBOS deployment device:
```
ubos-admin createsite
```
   and answer the questions. The name of the app is `taliworkdown`, the hostname
   is `taliworkdown.example.com`.

5. Visit your deployed application. WIth a browser, to go
   `http://taligen.example.com/` or whatever your hostname you chose.

# Implementation details

The URL namespace is as follows:

 * `/`           => overview page
 * `/tl/<xxx>`   => Task List with ID `<xxx>`
 * `/wodo/<yyy>` => Workdown with ID `<yyy>`

The files are stored in two directories:

 * `TALIDIR`: contains the task lists, with extension `.tl-json`, such as
   `solve-world-hunger.tl-json`.

 * `WODODIR`: workdowns created from a Task List are contained in a directory
    named according to the task list it was created from, and have extension
    `.wodo-json`. Example: `solve-world-hunger/attempt-1-free-money.wodo-json`.

